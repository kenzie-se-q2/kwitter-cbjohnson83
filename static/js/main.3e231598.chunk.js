(this["webpackJsonpkwitter-starter"]=this["webpackJsonpkwitter-starter"]||[]).push([[0],{37:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),c=n(30),a=n.n(c),i=(n(37),n(6)),o=n(8),u=n(15),j=n(13),d=n(18);function l(e){var t={};return e.firstName||(t.firstName="First Name Required"),e.lastName||(t.lastName="Last Name Required"),e.userName||(t.userName="user name  required"),e.email||(t.email="Email Required"),e.password?e.password<6&&(t.password="password must be atleast 6 characters"):t.password="password required",e.comfirmPassword?e.comfirmPassword!==e.password&&(t.comfirmPassword="passwords do not match "):t.comfirmPassword="please comfirm password",t}var b=Object(d.a)((function(e){return{user:{firstName:"",lastName:"",email:"",userName:"",password:"",comfimPassword:""},errors:{},isSubmitted:!1,handleChange:function(t){return e((function(e){return{user:Object(j.a)(Object(j.a)({},e.user),{},Object(u.a)({},t.target.name,t.target.value))}}))},handleSubmit:function(t){t.preventDefault(),e((function(e){return{errors:l(e.user)}})),e((function(){return{isSubmitted:!0}}))}}})),h="https://socialapp-api.herokuapp.com/",m=function(){return fetch(h+"messages").then((function(e){return e.json()}))},O=n(7),p=n(1),f=function(){var e=b((function(e){return e.user})),t=b((function(e){return e.handleChange})),n=b((function(e){return e.handleSubmit})),r=b((function(e){return e.errors}));return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"newAccountFormContainer",children:Object(p.jsxs)("form",{className:"newAccountFom",onSubmit:n,children:[Object(p.jsxs)("div",{className:"firstName",children:[Object(p.jsx)("label",{children:"First Name:"}),Object(p.jsx)("input",{name:"firstName",type:"text",value:e.firstName,onChange:t}),Object(p.jsx)("p",{children:r.firstName})]}),Object(p.jsxs)("div",{className:"lastName",children:[Object(p.jsx)("label",{children:"Last Name:"}),Object(p.jsx)("input",{name:"lastName",type:"text",value:e.lastName,onChange:t}),Object(p.jsx)("p",{children:r.lastName})]}),Object(p.jsxs)("div",{className:"email",children:[Object(p.jsx)("label",{children:"Email:"}),Object(p.jsx)("input",{name:"email",type:"email",value:e.email,onChange:t}),Object(p.jsx)("p",{children:r.email})]}),Object(p.jsxs)("div",{className:"userName",children:[Object(p.jsx)("label",{children:"User Name:"}),Object(p.jsx)("input",{name:"userName",type:"text",value:e.userName,onChange:t}),Object(p.jsx)("p",{children:r.userName})]}),Object(p.jsxs)("div",{className:"password",children:[Object(p.jsx)("label",{children:"Password:"}),Object(p.jsx)("input",{name:"password",type:"password",value:e.password,onChange:t}),Object(p.jsx)("p",{children:r.password})]}),Object(p.jsxs)("div",{className:"confirmPassword",children:[Object(p.jsx)("label",{children:"Confirm Password:"}),Object(p.jsx)("input",{name:"comfirmPassword",type:"password",value:e.comfirmPassword,onChange:t}),Object(p.jsx)("p",{children:r.comfirmPassword})]}),Object(p.jsx)("button",{className:"submit",type:"submit",children:"Create Account"}),Object(p.jsxs)("span",{children:["You have an Account?",Object(p.jsx)(O.b,{to:"/",children:"Login"})]})]})})})},x=function(e){var t=b((function(e){return e.user})),n=b((function(e){return e.afterSubmit}));return Object(p.jsxs)("container",{children:[t.userName," is successfully registered",Object(p.jsxs)("div",{children:["Click here to",Object(p.jsx)(O.b,{to:"/",children:Object(p.jsx)("button",{onClick:n,children:"Login"})})]})]})},g=function(){var e=b((function(e){return e.user})),t=b((function(e){return e.isSubmitted})),n=b((function(e){return e.errors})),s=Object(r.useState)(!1),c=Object(o.a)(s,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){var r,s,c;return 0===Object.keys(n).length&&t&&(r=e.userName,s=e.displayName,c=e.password,fetch(h+"users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,displayName:s,password:c})}),i(!0)),function(){0===Object.keys(n).length&&t&&i(!1)}}),[n]),a?Object(p.jsx)(x,{formSubmitted:t}):Object(p.jsx)(f,{})},v=n(26),y="LOGIN",N="GETMESSAGES",w="POSTMESSAGES",S=Object(d.a)(Object(v.devtools)(Object(v.redux)((function(e,t){switch(t.type){case y:return{user:t.payload};case"LOGOUT":return{user:{}};case N:return{messages:t.payload};case w:default:return e}}),{user:{token:""},messages:[]})));var C=function(e){var t=S((function(e){return e.dispatch})),n=Object(r.useState)({username:"",password:""}),s=Object(o.a)(n,2),c=s[0],a=s[1],i=function(e){var t=e.target.name,n=e.target.value;a((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t,n))}))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{id:"login-form",onSubmit:function(e){var n,r;e.preventDefault(),(n=c.username,r=c.password,fetch(h+"auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:r})}).then((function(e){return e.json()}))).then((function(e){return t({type:y,payload:e})}))},children:[Object(p.jsx)("label",{htmlFor:"username",children:"Username"}),Object(p.jsx)("input",{type:"text",name:"username",value:c.username,autoFocus:!0,required:!0,onChange:i}),Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{type:"password",name:"password",value:c.password,required:!0,onChange:i}),Object(p.jsx)("button",{type:"submit",children:"Login"})]})})};var k=function(e){var t=S((function(e){return e.user})),n=S((function(e){return e.dispatch}));return Object(p.jsxs)("div",{id:"menu",children:[Object(p.jsx)("div",{id:"meetindMindz",children:Object(p.jsx)("h1",{children:"Meeting of the Mindz"})}),Object(p.jsxs)("div",{id:"menu-links",children:[Object(p.jsx)(O.b,{to:"/messages",children:"Messages"}),t.token&&Object(p.jsx)("button",{onClick:function(e){var r;(r=t.token,fetch(h+"auth/logout",{headers:{Authorization:"Bearer "+r}}).then((function(e){return e.json()}))).then((function(){return n({type:"LOGOUT"})}))},children:"Logout"})]})]})},P=n(53);var F=function(){var e,t=S((function(e){return e.user})),n=Object(r.useState)({username:"",displayName:"",about:""}),s=Object(o.a)(n,2),c=s[0],a=s[1];return Object(r.useEffect)((function(){fetch("https://socialapp-api.herokuapp.com/users/"+t.username).then((function(e){return e.json()})).then((function(e){return a(e.user)}))}),[t]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(P.a.Body,{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:(e=t.username,h+"users/".concat(e,"/picture")),alt:"Starting image"}),Object(p.jsx)("h1",{children:Object(p.jsx)(P.a.Title,{children:"Profile Information: "})})]}),Object(p.jsx)("div",{children:"Username: "}),Object(p.jsx)(P.a.Text,{children:c.username}),Object(p.jsx)("div",{children:"Display Name: "}),Object(p.jsx)(P.a.Text,{children:c.displayName}),Object(p.jsx)("div",{children:"About Me:"}),Object(p.jsx)(P.a.Text,{children:c.about})]}),Object(p.jsx)("button",{children:Object(p.jsx)(O.b,{to:"/userupdate",children:"Update User Information"})})]})},E={table:{textAlign:"center",fontFamily:"Trebuchet MS, Arial, Helvetica, sansSerif",borderCollapse:"collapse",width:"85%"},tr:{color:"red"},trdata:{color:"black"},td:{border:"1px solid #ddd",padding:"8px"}};var A=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(r.useEffect)((function(){fetch("https://kwitter-api-b.herokuapp.com/users").then((function(e){return e.json()})).then((function(e){return s(e.users)}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"LIST OF USERS"}),Object(p.jsx)("table",{style:E.table,children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{style:E.tr,children:[Object(p.jsx)("td",{style:E.td,children:"User Name"}),Object(p.jsx)("td",{style:E.td,children:"Display Name"}),Object(p.jsx)("td",{style:E.td,children:"About"})]}),n.map((function(e){return Object(p.jsxs)("tr",{style:E.trdata,children:[Object(p.jsxs)("td",{style:E.td,children:[" ",e.username]}),Object(p.jsxs)("td",{style:E.td,children:[" ",e.displayName]}),Object(p.jsxs)("td",{style:E.td,children:[" ",e.about]})]})}))]})})]})};var T=function(e){var t=S((function(e){return e.user})),n=Object(r.useState)(!1),s=Object(o.a)(n,2),c=s[0],a=s[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k,{}),Object(p.jsx)("div",{id:"shareIdeas",children:Object(p.jsx)("h2",{children:"A Place to Share Ideas. "})}),Object(p.jsx)("div",{id:"noHate",children:Object(p.jsx)("h3",{children:"NO HATE SPEECH ALLOWED!"})}),!t.token&&Object(p.jsx)(C,{}),t.token&&Object(p.jsx)(F,{}),!t.token&&(!1===c?Object(p.jsx)("button",{onClick:function(){a(!0)},children:"Show List of Users"}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{onClick:function(){a(!1)},children:"Hide List"}),Object(p.jsx)(A,{})]}))]})};var L=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{children:["Page not found for ",e.location.pathname]}),Object(p.jsx)(O.b,{to:"/",children:"Go Home"})]})},U=function(){var e=S((function(e){return e.dispatch}));function t(t){t&&t.data&&t.data.token&&e({type:y,payload:t.data})}return Object(r.useEffect)((function(){return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{id:"nav",children:[Object(p.jsx)("div",{id:"home",children:Object(p.jsx)(O.b,{to:"/",children:"Home"})}),Object(p.jsx)("div",{id:"navSignUp",children:Object(p.jsx)(O.b,{to:"/newaccount",children:"Sign Up"})}),Object(p.jsx)("div",{id:"Search",children:Object(p.jsx)(O.b,{to:"/Feeds",children:"Search Articles"})}),Object(p.jsx)("button",{onClick:function(e){window.open("https://socialapp-api.herokuapp.com/auth/google/login")},children:"Google Sign In"})]})})};var I=function(e){return Object(p.jsx)("article",{class:"articleLink",children:Object(p.jsx)("a",{href:"https://reddit.com"+e.article.permalink,target:"_blank",children:Object(p.jsx)("h3",{children:e.article.title})})})};function G(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)("webdev"),a=Object(o.a)(c,2),i=a[0],u=a[1];return Object(r.useEffect)((function(){fetch("https://www.reddit.com/r/"+i+".json").then((function(e){200==e.status?e.json().then((function(e){null!=e&&s(e.data.children)})):console.log("Reddit Error")}))}),[i]),Object(p.jsxs)("div",{className:"Feed",children:[Object(p.jsx)("header",{className:"Feed-header",children:Object(p.jsx)("input",{type:"text",className:"input",value:i,onChange:function(e){return u(e.target.value)}})}),Object(p.jsx)("div",{className:"articles",children:null!=n?n.map((function(e,t){return Object(p.jsx)(I,{article:e.data},t)})):""})]})}var M=n(51),D=n(52),H=n(54);var q=function(){var e=S((function(e){return e.user})),t=Object(r.useState)({username:"",displayName:"",about:""}),n=Object(o.a)(t,2),s=n[0],c=n[1],a=Object(r.useState)({}),i=Object(o.a)(a,2),d=i[0],l=i[1];function b(e){var t=e.target,n=t.name,r=t.value;c(Object(j.a)(Object(j.a)({},s),{},Object(u.a)({},n,r)))}return Object(r.useEffect)((function(){fetch("https://socialapp-api.herokuapp.com/users/"+e.username).then((function(e){return e.json()})).then((function(e){return c(e.user)}))}),[e]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(M.a,{children:[Object(p.jsx)(D.a,{children:Object(p.jsx)(D.a.Group,{controlId:"pageTitle",children:Object(p.jsx)("h1",{children:"User Update Page"})})}),Object(p.jsxs)(D.a,{onSubmit:function(t){var n,r,c,a;t.preventDefault(),n=e.token,r=e.username,c=s.about,a=s.displayName,fetch("https://socialapp-api.herokuapp.com/users/"+r,{method:"PATCH",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify({about:c,displayName:a})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),alert("User Information Update Successful")},children:[Object(p.jsxs)(D.a.Group,{controlId:"changeDisplayName",children:[Object(p.jsx)(D.a.Label,{children:"Display Name"}),Object(p.jsx)(D.a.Control,{value:s.displayName,name:"displayName",type:"text",onChange:b,placeholder:"Change Display Name"})]}),Object(p.jsxs)(D.a.Group,{controlId:"changeAbout",children:[Object(p.jsx)(D.a.Label,{children:"About"}),Object(p.jsx)(D.a.Control,{value:s.about,name:"about",type:"text",onChange:b,placeholder:"Change about"})]}),Object(p.jsx)(H.a,{variant:"primary",type:"submit",children:"Update User Information"})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"file",onChange:function(e){console.log(e.target.files[0]),l(e.target.files[0])}}),Object(p.jsx)("button",{onClick:function(t){(function(e,t,n){var r=new FormData;return r.append("picture",n),fetch(h+"users/".concat(t,"/picture"),{method:"PUT",headers:{Authorization:"Bearer "+e},body:r}).then((function(e){return e.json()}))})(e.token,e.username,d).then((function(e){return console.log(e)})),alert("Picture Upload Successful")},children:"update my photo"})]}),Object(p.jsx)("button",{children:Object(p.jsx)(O.b,{to:"/",children:"Profile"})})]})};function z(e){return Object(p.jsx)("div",{children:e.text})}function B(){var e=S((function(e){return e})),t=e.dispatch,n=e.messages,s=e.user,c=Object(r.useState)(""),a=Object(o.a)(c,2),i=a[0],u=a[1];return Object(r.useEffect)((function(){m().then((function(e){return t({type:N,payload:e.messages})}))}),[t]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k,{}),Object(p.jsx)("input",{type:"text",onChange:function(e){return u(e.target.value)},value:i,placeholder:"Type your message"}),Object(p.jsx)("button",{onClick:function(e){(function(e,t){return fetch(h+"messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({text:e})}).then((function(e){return e.json()}))})(i,s.token).then((function(){t({type:w}),m().then((function(e){return t({type:N,payload:e.messages})}))}))},children:"Post Message"}),Object(p.jsx)("h1",{children:"Message List"}),n&&n.map((function(e){return Object(p.jsx)(z,Object(j.a)({},e))}))]})}var J=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(U,{}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:"/",component:T}),Object(p.jsx)(i.a,{exact:!0,path:"/newaccount",component:g}),Object(p.jsx)(i.a,{exact:!0,path:"/Feeds",component:G}),Object(p.jsx)(i.a,{exact:!0,path:"/profile/:username",component:F}),Object(p.jsx)(i.a,{exact:!0,path:"/userupdate",component:q}),Object(p.jsx)(i.a,{exact:!0,path:"/messages",component:B}),Object(p.jsx)(i.a,{component:L})]})]})};a.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(O.a,{basename:"/Final-Program",children:Object(p.jsx)(J,{})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.3e231598.chunk.js.map