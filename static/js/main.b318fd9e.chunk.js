(this["webpackJsonpkwitter-cbjohnson83"]=this["webpackJsonpkwitter-cbjohnson83"]||[]).push([[0],{37:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(30),a=n.n(c),i=(n(37),n(8)),o=n(7),u=n(15),j=n(13),d=n(18);function l(e){var t={};return e.firstName||(t.firstName="First Name Required"),e.lastName||(t.lastName="Last Name Required"),e.userName||(t.userName="user name  required"),e.email||(t.email="Email Required"),e.password?e.password<6&&(t.password="password must be atleast 6 characters"):t.password="password required",e.comfirmPassword?e.comfirmPassword!==e.password&&(t.comfirmPassword="passwords do not match "):t.comfirmPassword="please comfirm password",t}var b=Object(d.a)((function(e){return{user:{firstName:"",lastName:"",email:"",userName:"",password:"",comfimPassword:""},errors:{},isSubmitted:!1,handleChange:function(t){return e((function(e){return{user:Object(j.a)(Object(j.a)({},e.user),{},Object(u.a)({},t.target.name,t.target.value))}}))},handleSubmit:function(t){t.preventDefault(),e((function(e){return{errors:l(e.user)}})),e((function(){return{isSubmitted:!0}}))}}})),h="https://socialapp-api.herokuapp.com/",O=function(e){return fetch(h+"auth/logout",{headers:{Authorization:"Bearer "+e}}).then((function(e){return e.json()}))},m=function(){return fetch(h+"messages").then((function(e){return e.json()}))},p=n(6),f=n(0),x=function(){var e=b((function(e){return e.user})),t=b((function(e){return e.handleChange})),n=b((function(e){return e.handleSubmit})),r=b((function(e){return e.errors}));return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"newAccountFormContainer",children:Object(f.jsxs)("form",{className:"newAccountFom",onSubmit:n,children:[Object(f.jsxs)("div",{className:"firstName",children:[Object(f.jsx)("label",{children:"First Name:"}),Object(f.jsx)("input",{name:"firstName",type:"text",value:e.firstName,onChange:t}),Object(f.jsx)("p",{children:r.firstName})]}),Object(f.jsxs)("div",{className:"lastName",children:[Object(f.jsx)("label",{children:"Last Name:"}),Object(f.jsx)("input",{name:"lastName",type:"text",value:e.lastName,onChange:t}),Object(f.jsx)("p",{children:r.lastName})]}),Object(f.jsxs)("div",{className:"email",children:[Object(f.jsx)("label",{children:"Email:"}),Object(f.jsx)("input",{name:"email",type:"email",value:e.email,onChange:t}),Object(f.jsx)("p",{children:r.email})]}),Object(f.jsxs)("div",{className:"userName",children:[Object(f.jsx)("label",{children:"User Name:"}),Object(f.jsx)("input",{name:"userName",type:"text",value:e.userName,onChange:t}),Object(f.jsx)("p",{children:r.userName})]}),Object(f.jsxs)("div",{className:"password",children:[Object(f.jsx)("label",{children:"Password:"}),Object(f.jsx)("input",{name:"password",type:"password",value:e.password,onChange:t}),Object(f.jsx)("p",{children:r.password})]}),Object(f.jsxs)("div",{className:"confirmPassword",children:[Object(f.jsx)("label",{children:"Confirm Password:"}),Object(f.jsx)("input",{name:"comfirmPassword",type:"password",value:e.comfirmPassword,onChange:t}),Object(f.jsx)("p",{children:r.comfirmPassword})]}),Object(f.jsx)("button",{className:"submit",type:"submit",children:"Create Account"}),Object(f.jsxs)("span",{children:["You have an Account?",Object(f.jsx)(p.b,{to:"/",children:"Login"})]})]})})})},v=function(e){var t=b((function(e){return e.user})),n=b((function(e){return e.afterSubmit}));return Object(f.jsxs)("container",{children:[t.userName," is successfully registered",Object(f.jsxs)("div",{children:["Click here to",Object(f.jsx)(p.b,{to:"/",children:Object(f.jsx)("button",{onClick:n,children:"Login"})})]})]})},g=function(){var e=b((function(e){return e.user})),t=b((function(e){return e.isSubmitted})),n=b((function(e){return e.errors})),s=Object(r.useState)(!1),c=Object(o.a)(s,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){var r,s,c;return 0===Object.keys(n).length&&t&&(console.log(e),(r=e.userName,s=e.firstName,c=e.password,fetch(h+"users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,displayName:s,password:c})})).then((function(e){return console.log(e.json())})),i(!0)),function(){0===Object.keys(n).length&&t&&i(!1)}}),[n]),a?Object(f.jsx)(v,{formSubmitted:t}):Object(f.jsx)(x,{})},y=n(26),N="LOGIN",w="GETMESSAGES",S="POSTMESSAGES",k=Object(d.a)(Object(y.devtools)(Object(y.redux)((function(e,t){switch(t.type){case N:return{user:t.payload};case"LOGOUT":return{user:{}};case w:return{messages:t.payload};case S:default:return e}}),{user:{token:""},messages:[]})));var C=function(e){var t=k((function(e){return e.dispatch})),n=Object(r.useState)({username:"",password:""}),s=Object(o.a)(n,2),c=s[0],a=s[1],i=function(e){var t=e.target.name,n=e.target.value;a((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t,n))}))};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{id:"login-form",onSubmit:function(e){var n,r;e.preventDefault(),(n=c.username,r=c.password,fetch(h+"auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:r})}).then((function(e){return e.json()}))).then((function(e){return t({type:N,payload:e})}))},children:[Object(f.jsx)("label",{htmlFor:"username",children:"Username"}),Object(f.jsx)("input",{type:"text",name:"username",value:c.username,autoFocus:!0,required:!0,onChange:i}),Object(f.jsx)("label",{htmlFor:"password",children:"Password"}),Object(f.jsx)("input",{type:"password",name:"password",value:c.password,required:!0,onChange:i}),Object(f.jsx)("button",{type:"submit",children:"Login"})]})})};var A=function(e){var t=k((function(e){return e.user})),n=k((function(e){return e.dispatch}));return Object(f.jsxs)("div",{id:"menu",children:[Object(f.jsx)("div",{id:"meetindMindz",children:Object(f.jsx)("h1",{children:"Meeting of the Mindz"})}),Object(f.jsxs)("div",{id:"menu-links",children:[Object(f.jsx)(p.b,{to:"/messages",children:"Messages"}),t.token&&Object(f.jsx)("button",{onClick:function(e){O(t.token).then((function(){return n({type:"LOGOUT"})}))},children:"Logout"})]})]})},E=n(53),P=function(){var e=k((function(e){return e.user})),t=Object(r.useState)(!1),n=Object(o.a)(t,2),s=n[0],c=n[1],a=k((function(e){return e.dispatch}));return Object(r.useEffect)((function(){return!0===s&&alert("User Deletion Successful"),function(){}}),[s]),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){var t,n;c(!0),(t=e.token,n=e.username,fetch(h+"users/"+n,{method:"DELETE",headers:{Authorization:"Bearer "+t}}).then((function(e){return e.json()}))).then((function(e){return console.log(e)})),O(e.token).then((function(){return a({type:"LOGOUT"})}))},children:"Delete Profile"}),s&&Object(f.jsx)(i.a,{to:"/"})]})};var T=function(){var e,t=k((function(e){return e.user})),n=Object(r.useState)({username:"",displayName:"",about:""}),s=Object(o.a)(n,2),c=s[0],a=s[1];return Object(r.useEffect)((function(){fetch("https://socialapp-api.herokuapp.com/users/"+t.username).then((function(e){return e.json()})).then((function(e){return a(e.user)}))}),[t]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(E.a.Body,{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:(e=t.username,h+"users/".concat(e,"/picture"))}),Object(f.jsx)("h1",{children:Object(f.jsx)(E.a.Title,{children:"Profile Information: "})})]}),Object(f.jsx)("div",{children:"Username: "}),Object(f.jsx)(E.a.Text,{children:c.username}),Object(f.jsx)("div",{children:"Display Name: "}),Object(f.jsx)(E.a.Text,{children:c.displayName}),Object(f.jsx)("div",{children:"About Me:"}),Object(f.jsx)(E.a.Text,{children:c.about}),Object(f.jsx)("div",{children:"Created At: "}),Object(f.jsx)(E.a.Text,{children:c.createdAt}),Object(f.jsx)("div",{children:"Updated At:"}),Object(f.jsx)(E.a.Text,{children:c.updatedAt})]}),Object(f.jsx)("button",{children:Object(f.jsx)(p.b,{to:"/userupdate",children:"Update User Information"})}),Object(f.jsx)(P,{})]})},F={table:{textAlign:"center",fontFamily:"Trebuchet MS, Arial, Helvetica, sansSerif",borderCollapse:"collapse",width:"85%"},tr:{color:"red"},trdata:{color:"black"},td:{border:"1px solid #ddd",padding:"8px"}};var U=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(r.useEffect)((function(){fetch("https://kwitter-api-b.herokuapp.com/users").then((function(e){return e.json()})).then((function(e){return s(e.users)}))}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"LIST OF USERS"}),Object(f.jsx)("table",{style:F.table,children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{style:F.tr,children:[Object(f.jsx)("td",{style:F.td,children:"User Name"}),Object(f.jsx)("td",{style:F.td,children:"Display Name"}),Object(f.jsx)("td",{style:F.td,children:"About"})]}),n.map((function(e){return Object(f.jsxs)("tr",{style:F.trdata,children:[Object(f.jsxs)("td",{style:F.td,children:[" ",e.username]}),Object(f.jsxs)("td",{style:F.td,children:[" ",e.displayName]}),Object(f.jsxs)("td",{style:F.td,children:[" ",e.about]})]})}))]})})]})};var L=function(e){var t=k((function(e){return e.user})),n=Object(r.useState)(!1),s=Object(o.a)(n,2),c=s[0],a=s[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(A,{}),Object(f.jsx)("div",{id:"shareIdeas",children:Object(f.jsx)("h2",{children:"A Place to Share Ideas. "})}),Object(f.jsx)("div",{id:"noHate",children:Object(f.jsx)("h3",{children:"NO HATE SPEECH ALLOWED!"})}),!t.token&&Object(f.jsx)(C,{}),t.token&&Object(f.jsx)(T,{}),!t.token&&(!1===c?Object(f.jsx)("button",{onClick:function(){a(!0)},children:"Show List of Users"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{onClick:function(){a(!1)},children:"Hide List"}),Object(f.jsx)(U,{})]}))]})};var D=function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("p",{children:["Page not found for ",e.location.pathname]}),Object(f.jsx)(p.b,{to:"/",children:"Go Home"})]})},I=function(){var e=k((function(e){return e.dispatch}));function t(t){t&&t.data&&t.data.token&&e({type:N,payload:t.data})}return Object(r.useEffect)((function(){return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{id:"nav",children:[Object(f.jsx)("div",{id:"home",children:Object(f.jsx)(p.b,{to:"/",children:"Home"})}),Object(f.jsx)("div",{id:"navSignUp",children:Object(f.jsx)(p.b,{to:"/newaccount",children:"Sign Up"})}),Object(f.jsx)("div",{id:"Search",children:Object(f.jsx)(p.b,{to:"/Feeds",children:"Search Articles"})}),Object(f.jsx)("button",{onClick:function(e){window.open("https://socialapp-api.herokuapp.com/auth/google/login")},children:"Google Sign In"})]})})};var G=function(e){return Object(f.jsx)("article",{class:"articleLink",children:Object(f.jsx)("a",{href:"https://reddit.com"+e.article.permalink,target:"_blank",children:Object(f.jsx)("h3",{children:e.article.title})})})};function M(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)("webdev"),a=Object(o.a)(c,2),i=a[0],u=a[1];return Object(r.useEffect)((function(){fetch("https://www.reddit.com/r/"+i+".json").then((function(e){200==e.status?e.json().then((function(e){null!=e&&s(e.data.children)})):console.log("Reddit Error")}))}),[i]),Object(f.jsxs)("div",{className:"Feed",children:[Object(f.jsx)("header",{className:"Feed-header",children:Object(f.jsx)("input",{type:"text",className:"input",value:i,onChange:function(e){return u(e.target.value)}})}),Object(f.jsx)("div",{className:"articles",children:null!=n?n.map((function(e,t){return Object(f.jsx)(G,{article:e.data},t)})):""})]})}var H=n(51),q=n(52),z=n(54);var B=function(){var e=k((function(e){return e.user})),t=Object(r.useState)({username:"",displayName:"",about:""}),n=Object(o.a)(t,2),s=n[0],c=n[1],a=Object(r.useState)({}),i=Object(o.a)(a,2),d=i[0],l=i[1];function b(e){var t=e.target,n=t.name,r=t.value;c(Object(j.a)(Object(j.a)({},s),{},Object(u.a)({},n,r)))}return Object(r.useEffect)((function(){fetch("https://socialapp-api.herokuapp.com/users/"+e.username).then((function(e){return e.json()})).then((function(e){return c(e.user)}))}),[e]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(H.a,{children:[Object(f.jsx)(q.a,{children:Object(f.jsx)(q.a.Group,{controlId:"pageTitle",children:Object(f.jsx)("h1",{children:"User Update Page"})})}),Object(f.jsxs)(q.a,{onSubmit:function(t){var n,r,c,a;t.preventDefault(),n=e.token,r=e.username,c=s.about,a=s.displayName,fetch("https://socialapp-api.herokuapp.com/users/"+r,{method:"PATCH",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify({about:c,displayName:a})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),alert("User Information Update Successful")},children:[Object(f.jsxs)(q.a.Group,{controlId:"changeDisplayName",children:[Object(f.jsx)(q.a.Label,{children:"Display Name"}),Object(f.jsx)(q.a.Control,{value:s.displayName,name:"displayName",type:"text",onChange:b,placeholder:"Change Display Name"})]}),Object(f.jsxs)(q.a.Group,{controlId:"changeAbout",children:[Object(f.jsx)(q.a.Label,{children:"About"}),Object(f.jsx)(q.a.Control,{value:s.about,name:"about",type:"text",onChange:b,placeholder:"Change about"})]}),Object(f.jsx)(z.a,{variant:"primary",type:"submit",children:"Update User Information"})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"file",onChange:function(e){console.log(e.target.files[0]),l(e.target.files[0])}}),Object(f.jsx)("button",{onClick:function(t){(function(e,t,n){var r=new FormData;return r.append("picture",n),fetch(h+"users/".concat(t,"/picture"),{method:"PUT",headers:{Authorization:"Bearer "+e},body:r}).then((function(e){return e.json()}))})(e.token,e.username,d).then((function(e){return console.log(e)})),alert("Picture Upload Successful")},children:"update my photo"})]}),Object(f.jsx)("button",{children:Object(f.jsx)(p.b,{to:"/",children:"Profile"})})]})};function J(e){return Object(f.jsx)("div",{children:e.text})}function R(){var e=k((function(e){return e})),t=e.dispatch,n=e.messages,s=e.user,c=Object(r.useState)(""),a=Object(o.a)(c,2),i=a[0],u=a[1];return Object(r.useEffect)((function(){m().then((function(e){return t({type:w,payload:e.messages})}))}),[t]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(A,{}),Object(f.jsx)("input",{type:"text",onChange:function(e){return u(e.target.value)},value:i,placeholder:"Type your message"}),Object(f.jsx)("button",{onClick:function(e){(function(e,t){return fetch(h+"messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({text:e})}).then((function(e){return e.json()}))})(i,s.token).then((function(){t({type:S}),m().then((function(e){return t({type:w,payload:e.messages})}))}))},children:"Post Message"}),Object(f.jsx)("h1",{children:"Message List"}),n&&n.map((function(e){return Object(f.jsx)(J,Object(j.a)({},e))}))]})}var W=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(I,{}),Object(f.jsxs)(i.d,{children:[Object(f.jsx)(i.b,{exact:!0,path:"/",component:L}),Object(f.jsx)(i.b,{exact:!0,path:"/newaccount",component:g}),Object(f.jsx)(i.b,{exact:!0,path:"/Feeds",component:M}),Object(f.jsx)(i.b,{exact:!0,path:"/profile/:username",component:T}),Object(f.jsx)(i.b,{exact:!0,path:"/userupdate",component:B}),Object(f.jsx)(i.b,{exact:!0,path:"/messages",component:R}),Object(f.jsx)(i.b,{exact:!0,path:"/userdeleted",component:P}),Object(f.jsx)(i.b,{component:D})]})]})};a.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(p.a,{basename:"/kwitter-cbjohnson83",children:Object(f.jsx)(W,{})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.b318fd9e.chunk.js.map